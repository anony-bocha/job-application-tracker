{% extends 'applications/base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-4">
    <h2>Client Dashboard</h2>

    <div class="row text-center mb-4">
        <div class="col-md-4 mb-2">
            <div class="card bg-info text-white shadow-sm rounded-3">
                <div class="card-body">
                    <h6>Your Company</h6>
                    <h5>{{ company_name }}</h5>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-2">
            <div class="card bg-primary text-white shadow-sm rounded-3">
                <div class="card-body">
                    <h6>Total Applications Received</h6>
                    <h3>{{ total_received_apps }}</h3>
                </div>
            </div>
        </div>
    </div>

    <h4>Recent Applications</h4>
    <ul class="list-group mb-3">
        {% for app in recent_apps %}
            <li class="list-group-item">
                {{ app.user.username }} applied for {{ app.position }}
                <span class="text-muted float-end">{{ app.applied_date }}</span>
            </li>
        {% empty %}
            <li class="list-group-item">No recent applications.</li>
        {% endfor %}
    </ul>

    <div class="mt-3">
        <a href="{% url 'add_application' %}" class="btn btn-primary">Add New Application</a>
    </div>
</div>
{% endblock %}
